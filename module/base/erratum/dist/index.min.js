!function(){var e,r=function(e){var r=this;return null==e&&(e={}),"undefined"!=typeof window&&null!==window||console.warn("[@servebase/erratum] no window to listen to error/rejection"),window.addEventListener("error",function(e){return r.errorHandler(e)}),window.addEventListener("unhandledrejection",function(e){return r.rejectionHandler(e)}),e.handler&&(this.handler=e.handler),this};r.prototype=((e=Object.create(Object.prototype)).handler=function(e){},e.errorHandler=function(e){if(!lderror.eventHandler.error(e))return this.handler(e.error)},e.rejectionHandler=function(e){if(!lderror.eventHandler.rejection(e))return this.handler(e.reason)},e.test=function(e){return(e=null==e?{}:e).bare?this._test(e):function(e){var r=this;return setTimeout(function(){return r._test(e)},0)}(e)},e._test=function(e){if(e.promise)return lderror.reject(1023);throw lderror(1023)},e),"undefined"!=typeof module&&null!==module?module.exports=r:window.erratum=r}.call(this);
